"use strict";(self.webpackChunkvue3_element_admin=self.webpackChunkvue3_element_admin||[]).push([[172],{60172:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var t=l(66252),u=l(3577),v=l(49963),o=l(2262);const s={id:"ve_puzzle"},i=["onClick"],n={class:"ve_button"},f={class:"ve_game_button"},r=(0,t.Uk)(" 重新开始 "),d={class:"ve_upload"},c=(0,t.Uk)(" 用我的萌照 "),p={data:()=>({description:"拼图小游戏"})};var _=Object.assign(p,{setup(e){let a=l(66949);const p=(0,o.iH)(a),_=(0,o.iH)(!1),g=(0,o.iH)("查看原图"),m=(0,o.iH)([]),w=(0,o.iH)([]),h=(0,o.iH)(!1),b=e=>{p.value=URL.createObjectURL(e.raw),k()},k=()=>{g.value="查看原图",_.value=!1,h.value=!1,w.value.length=0;for(let e=1;e<16;e++)w.value.push(e);for(;w.value.sort((()=>.5-Math.random())),!y(w.value););w.value.push(16)},y=e=>{let a=0;for(let l=0;l<15;l++)for(let t=l+1;t<15;t++)e[t]<e[l]&&a++;return a%2==0},C=(e,a)=>{let l=a.target.offsetTop,t=a.target.offsetLeft,u=m.value[15].offsetTop,v=m.value[15].offsetLeft,o=Math.abs(t-v),s=Math.abs(l-u);if(100==o&&l==u||100==s&&t==v){let a=w.value[15];w.value[15]=w.value[e],w.value[e]=a,w.value.every(((e,a)=>e==a+1))&&(h.value=!0)}};return k(),(0,t.Xn)((()=>{m.value=[]})),(e,a)=>{const l=(0,t.up)("el-button"),o=(0,t.up)("el-col"),y=(0,t.up)("el-row"),H=(0,t.up)("el-upload");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",{class:"ve_artwork",style:(0,u.j5)({backgroundImage:_.value||h.value?`url(${p.value})`:"none"})},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(16,(e=>(0,t._)("div",{key:e,class:(0,u.C_)(["ve_item_box",`pic${e}`,`img${w.value[e-1]}`,_.value||h.value?"ve_show_img":"",h.value&&16==e?"ve_finish":""]),style:(0,u.j5)({backgroundImage:16==e?h.value?`url(${p.value})`:"none":`url(${p.value})`}),ref_for:!0,ref:a=>{a&&(m.value[e-1]=a)},onClick:(0,v.iM)((a=>C(e-1,a)),["self","stop"])},null,14,i))),64))],4),(0,t._)("div",n,[(0,t._)("div",f,[(0,t.Wm)(y,{gutter:10},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{span:12,offset:0},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{type:"primary",onClick:a[0]||(a[0]=e=>k()),style:{width:"100%"}},{default:(0,t.w5)((()=>[r])),_:1})])),_:1}),(0,t.Wm)(o,{span:12,offset:0},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{style:{width:"100%"},type:_.value?"success":"info",onClick:a[1]||(a[1]=e=>(_.value=!_.value,void(g.value=_.value?"继续游戏":"查看原图"))),disabled:h.value},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(g.value),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1})]),(0,t._)("div",d,[(0,t.Wm)(H,{style:{width:"100%"},action:"",accept:"image/png, image/jpeg",ref:"upload","on-change":b,"auto-upload":!1,"show-file-list":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{style:{width:"100%"},type:"danger"},{default:(0,t.w5)((()=>[c])),_:1})])),_:1},512)])])])}}});var g=(0,l(83744).Z)(_,[["__scopeId","data-v-6e15f3c4"]])},66949:function(e,a,l){e.exports=l.p+"img/logo.f3ae810b.png"}}]);