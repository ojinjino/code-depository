(self.webpackChunkvue3_element_admin=self.webpackChunkvue3_element_admin||[]).push([[408,229,991,712,228],{87229:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var r=t(66252),u=t(2262);var a={props:{title:{type:String,require:!0}},setup:function(e){var n=e,t=(0,u.BK)(n).title;return function(e,n){var a=(0,r.up)("el-page-header"),l=(0,r.up)("el-alert"),o=(0,r.up)("el-divider");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(a,{onBack:n[0]||(n[0]=function(n){return e.$router.back()}),content:(0,u.SU)(t)},null,8,["content"]),(0,r.Wm)(l,{style:{"margin-top":"20px"},type:"info",description:"当前为动态权限页面!离开后将无法访问!刷新页面请使用本系统自带刷新按钮!!!","show-icon":"","close-text":"知道了"}),(0,r.Wm)(o),(0,r.WI)(e.$slots,"default")])}}}},71099:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var r=t(48534),u=(t(35666),t(68309),t(74916),t(64765),t(2707),t(66252)),a=t(2262),l=t(3577),o=t(49963),i=(t(77601),function(e){return/^http[s]?:\/\/.*/.test(e)}),c=t(52561),s=t(39595),d=t(38478),f={class:"ve_container"},m=(0,u.Uk)(" 重置 "),p={style:{"vertical-align":"middle"}},v={key:1},w={key:0,style:{"font-weight":"bold"}},g={key:1},y={key:1},b={key:1},U={key:1},h={key:2},k={data:function(){return{description:"菜单查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"},addChild:{name:"添加子级"},addBtn:{name:"添加按钮"}}}}},_=Object.assign(k,{setup:function(e){var n=(0,u.FN)().proxy,t=(0,a.iH)(null),k=(0,a.iH)(""),_=(0,a.iH)(!1),S=(0,a.iH)(null),W=(0,a.iH)([]),x=(0,a.qj)({name:"",limit:10,page:1,total:0}),V=(0,a.BK)(x),C=V.name,j=V.limit,D=V.page,R=V.total,z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_.value=!0,k.value=e,S.value=n},q=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.menuList(x);case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=d.mapTree(d.toArrayTree(r,{sortKey:"sort"}),(function(e){return e.children&&e.children.length<=0&&delete e.children,e})),W.value=u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:case"end":return e.stop()}}),e)})))),function(e,d){var V=(0,u.up)("el-input"),E=(0,u.up)("el-form-item"),H=(0,u.up)("el-button"),I=(0,u.up)("el-form"),P=(0,u.up)("el-table-column"),F=(0,u.up)("el-icon"),A=(0,u.up)("el-tag"),L=(0,u.up)("el-link"),N=(0,u.up)("ve-table"),Z=(0,u.Q2)("permission");return(0,u.wg)(),(0,u.iD)("div",f,[(0,u.Wm)(I,{ref_key:"queryForm",ref:t,inline:!0,model:(0,a.SU)(x)},{default:(0,u.w5)((function(){return[(0,u.Wm)(E,{label:"名称",prop:"name"},{default:(0,u.w5)((function(){return[(0,u.Wm)(V,{clearable:"",modelValue:(0,a.SU)(C),"onUpdate:modelValue":d[0]||(d[0]=function(e){return(0,a.dq)(C)?C.value=e:null}),placeholder:"名称"},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(E,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(H,{type:"primary",onClick:d[1]||(d[1]=function(e){return(0,a.SU)(s.MI)((0,a.SU)(x),q)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.search.name),1)]})),_:1}),(0,u.Wm)(H,{onClick:d[2]||(d[2]=function(e){return(0,a.SU)(s.Fx)(t.value,(0,a.SU)(x),q)})},{default:(0,u.w5)((function(){return[m]})),_:1})]})),_:1})]})),_:1},8,["model"]),(0,u.Wm)(N,{table:{data:W.value,rowKey:"id",defaultExpandAll:!0},pagination:{hideOnSinglePage:!0,onSizeChange:function(e){return(0,a.SU)(s.EL)(e,(0,a.SU)(x),q)},onCurrentChange:function(e){return(0,a.SU)(s.jx)(e,(0,a.SU)(x),q)},currentPage:(0,a.SU)(D),pageSize:(0,a.SU)(j),total:(0,a.SU)(R)}},{tool_bar:(0,u.w5)((function(){return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(H,{size:"small",type:"primary",onClick:d[3]||(d[3]=function(n){return z(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[Z,["add"]]])]})),default:(0,u.w5)((function(){return[(0,u.Wm)(P,{prop:"name",label:"名称"}),(0,u.Wm)(P,{prop:"icon",label:"图标"},{default:(0,u.w5)((function(e){var n=e.row;return[2!==n.type?((0,u.wg)(),(0,u.iD)(u.HY,{key:0},[(0,u.Wm)(F,{style:{"margin-right":"6px","vertical-align":"middle"}},{default:(0,u.w5)((function(){return[((0,u.wg)(),(0,u.j4)((0,u.LL)(n.icon)))]})),_:2},1024),(0,u._)("span",p,(0,l.zw)(n.icon),1)],64)):((0,u.wg)(),(0,u.iD)("span",v,"/"))]})),_:1}),(0,u.Wm)(P,{prop:"type",label:"类型"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(A,{type:0==n.type?"":1==n.type?"success":"warning"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(0==n.type?"目录":1==n.type?"菜单":"按钮"),1)]})),_:2},1032,["type"])]})),_:1}),(0,u.Wm)(P,{prop:"sort",label:"排序"},{default:(0,u.w5)((function(e){var n=e.row;return[2!==n.type?((0,u.wg)(),(0,u.iD)("span",w,(0,l.zw)(n.sort),1)):((0,u.wg)(),(0,u.iD)("span",g,"/"))]})),_:1}),(0,u.Wm)(P,{prop:"iframe",label:"Iframe"},{default:(0,u.w5)((function(e){var n=e.row;return[1==n.type?((0,u.wg)(),(0,u.j4)(A,{key:0,type:0==n.iframe?"danger":"",effect:"dark"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(0==n.iframe?"否":"是"),1)]})),_:2},1032,["type"])):((0,u.wg)(),(0,u.iD)("span",y,"/"))]})),_:1}),(0,u.Wm)(P,{prop:"url",label:"URL/标识","show-overflow-tooltip":""},{default:(0,u.w5)((function(e){var n=e.row;return[1==n.type?((0,u.wg)(),(0,u.iD)(u.HY,{key:0},[(0,a.SU)(i)(n.url)?((0,u.wg)(),(0,u.j4)(L,{key:0,type:"primary",href:n.url,target:"_blank"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(n.url),1)]})),_:2},1032,["href"])):((0,u.wg)(),(0,u.iD)("span",b,(0,l.zw)(n.url),1))],64)):2==n.type?((0,u.wg)(),(0,u.iD)("span",U,(0,l.zw)(n.menu),1)):((0,u.wg)(),(0,u.iD)("span",h,"/"))]})),_:1}),(0,u.Wm)(P,{fixed:"right",label:"操作",width:"240"},{default:(0,u.w5)((function(t){var a=t.row;return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(H,{onClick:(0,o.iM)((function(n){return z(e.menus.edit.name,a)}),["prevent"]),type:"primary",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.edit.name),1)]})),_:2},1032,["onClick"])),[[Z,["edit"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(H,{onClick:(0,o.iM)((function(e){return t=a.id,void n.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.menuDel({id:t});case 2:"00"==e.sent.code&&q();case 5:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.del.name),1)]})),_:2},1032,["onClick"])),[[Z,["del"]]]),0==a.type?(0,u.wy)(((0,u.wg)(),(0,u.j4)(H,{key:0,onClick:(0,o.iM)((function(n){return z(e.menus.addChild.name,a)}),["prevent"]),type:"warning",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.addChild.name),1)]})),_:2},1032,["onClick"])),[[Z,["addChild"]]]):(0,u.kq)("",!0),1==a.type&&0==a.iframe?(0,u.wy)(((0,u.wg)(),(0,u.j4)(H,{key:1,onClick:(0,o.iM)((function(n){return z(e.menus.addBtn.name,a)}),["prevent"]),type:"success",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.addBtn.name),1)]})),_:2},1032,["onClick"])),[[Z,["addBtn"]]]):(0,u.kq)("",!0)]})),_:1})]})),_:1},8,["table","pagination"]),_.value?((0,u.wg)(),(0,u.j4)((0,a.SU)(c.default),{key:0,menuList:W.value,rowData:S.value,title:k.value,showDialog:_.value,onCloseDialog:d[4]||(d[4]=function(e){return n=e,_.value=n,void q();var n})},null,8,["menuList","rowData","title","showDialog"])):(0,u.kq)("",!0)])}}});var S=_},82750:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(48534),u=(t(35666),t(68309),t(47042),t(74916),t(64765),t(66252)),a=t(2262),l=t(3577),o=t(49963),i=t(92760),c=t(42119),s=t(88637),d=t(39595),f={class:"ve_container"},m=(0,u.Uk)(" 重置 "),p={data:function(){return{description:"角色信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"},member:{name:"查看成员",toPath:!0}}}}},v=Object.assign(p,{setup:function(e){var n=(0,u.FN)().proxy,t=(0,c.yj)(),p=(0,c.tv)(),v=(0,s.oR)(),w=(0,u.Fl)((function(){return v.getters.menuList})).value,g=(0,a.iH)(null),y=(0,a.iH)(""),b=(0,a.iH)(!1),U=(0,a.iH)(null),h=(0,a.iH)([]),k=(0,a.qj)({name:"",limit:10,page:1,total:0}),_=(0,a.BK)(k),S=_.name,W=_.limit,x=_.page,V=_.total,C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b.value=!0,y.value=e,g.value=n},j=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u,a,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleList(k);case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.limit,a=r.page,l=r.total,o=r.list,k.limit=u,k.page=a,k.total=l,h.value=o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)})))),function(e,c){var s=(0,u.up)("el-input"),v=(0,u.up)("el-form-item"),_=(0,u.up)("el-button"),D=(0,u.up)("el-form"),R=(0,u.up)("el-table-column"),z=(0,u.up)("el-tag"),q=(0,u.up)("ve-table"),E=(0,u.Q2)("permission");return(0,u.wg)(),(0,u.iD)("div",f,[(0,u.Wm)(D,{ref_key:"queryForm",ref:U,inline:!0,model:(0,a.SU)(k)},{default:(0,u.w5)((function(){return[(0,u.Wm)(v,{label:"名称",prop:"name"},{default:(0,u.w5)((function(){return[(0,u.Wm)(s,{clearable:"",modelValue:(0,a.SU)(S),"onUpdate:modelValue":c[0]||(c[0]=function(e){return(0,a.dq)(S)?S.value=e:null}),placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(v,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(_,{type:"primary",onClick:c[1]||(c[1]=function(e){return(0,a.SU)(d.MI)((0,a.SU)(k),j)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.search.name),1)]})),_:1}),(0,u.Wm)(_,{onClick:c[2]||(c[2]=function(e){return(0,a.SU)(d.Fx)(U.value,(0,a.SU)(k),j)})},{default:(0,u.w5)((function(){return[m]})),_:1})]})),_:1})]})),_:1},8,["model"]),(0,u.Wm)(q,{table:{data:h.value},pagination:{onSizeChange:function(e){return(0,a.SU)(d.EL)(e,(0,a.SU)(k),j)},onCurrentChange:function(e){return(0,a.SU)(d.jx)(e,(0,a.SU)(k),j)},currentPage:(0,a.SU)(x),pageSize:(0,a.SU)(W),total:(0,a.SU)(V)}},{tool_bar:(0,u.w5)((function(){return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(_,{size:"small",type:"primary",onClick:c[3]||(c[3]=function(n){return C(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[E,["add"]]])]})),default:(0,u.w5)((function(){return[(0,u.Wm)(R,{prop:"name",label:"名称"}),(0,u.Wm)(R,{prop:"roleName",label:"角色名",width:"120"}),(0,u.Wm)(R,{prop:"status",label:"状态"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(z,{type:0==n.status?"danger":""},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(0==n.status?"停用":"启用"),1)]})),_:2},1032,["type"])]})),_:1}),(0,u.Wm)(R,{fixed:"right",label:"操作"},{default:(0,u.w5)((function(a){var i=a.row;return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(_,{onClick:(0,o.iM)((function(n){return C(e.menus.edit.name,i)}),["prevent"]),type:"primary",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.edit.name),1)]})),_:2},1032,["onClick"])),[[E,["edit"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(_,{onClick:(0,o.iM)((function(e){return t=i.id,void n.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleDel({id:t});case 2:"00"==e.sent.code&&j();case 5:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.del.name),1)]})),_:2},1032,["onClick"])),[[E,["del"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(_,{onClick:(0,o.iM)((function(e){return r=i.id,u=t.name.slice(t.name.lastIndexOf("-")+1),a=(0,d.G8)("member","system/Users",u,w,n),void p.push({name:a,query:{id:r}});var r,u,a}),["prevent"]),type:"info",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.member.name),1)]})),_:2},1032,["onClick"])),[[E,["member"]]])]})),_:1})]})),_:1},8,["table","pagination"]),b.value?((0,u.wg)(),(0,u.j4)((0,a.SU)(i.default),{key:0,rowData:g.value,title:y.value,showDialog:b.value,onCloseDialog:c[4]||(c[4]=function(e){return n=e,b.value=n,void j();var n})},null,8,["rowData","title","showDialog"])):(0,u.kq)("",!0)])}}});var w=v},20596:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(48534),u=(t(68309),t(74916),t(64765),t(15306),t(69600),t(43290),t(23123),t(57327),t(41539),t(35666),t(66252)),a=t(2262),l=t(3577),o=t(49963),i=t(45712),c=t(42119),s=t(39595),d={class:"ve_container"},f=(0,u.Uk)(" 重置 "),m=(0,u.Uk)(" > "),p={data:function(){return{description:"用户信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"}}}}},v=Object.assign(p,{setup:function(e){var n=(0,u.FN)().proxy,t=(0,c.yj)(),p=(0,c.tv)(),v=(0,a.iH)(null),w=(0,a.iH)(""),g=(0,a.iH)(!1),y=(0,a.iH)(null),b=(0,a.iH)([]),U=(0,a.qj)({role:isNaN(1*t.query.id)?"":1*t.query.id,limit:10,page:1,total:0}),h=(0,a.BK)(U),k=h.role,_=h.limit,S=h.page,W=h.total,x=(0,a.iH)([]),V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g.value=!0,w.value=e,v.value=n},C=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"system/components/UsersEditRoute",e.next=3,(0,s.fG)(n,"system/components/UsersEditRoute","add",{router:p,route:t});case 3:r=e.sent,p.push({name:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleList({page:1,limit:10});case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.list,x.value=u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(n,t){var r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.id){e.next=2;break}return e.abrupt("return");case 2:return t.load=1,e.next=5,VE_API.system.userStatus({id:t.id,status:n},{Global:!1});case 5:r=e.sent,u=r.code,t.load=0,"00"!=u&&(t.status=1==n?0:1);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u,a,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.userList(U);case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.limit,a=r.page,l=r.total,o=r.list,U.limit=u,U.page=a,U.total=l,b.value=o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return e.next=4,R();case 4:case"end":return e.stop()}}),e)})))),function(e,t){var c=(0,u.up)("el-option"),p=(0,u.up)("el-select"),h=(0,u.up)("el-form-item"),j=(0,u.up)("el-button"),z=(0,u.up)("el-form"),q=(0,u.up)("el-table-column"),E=(0,u.up)("el-tooltip"),H=(0,u.up)("el-tag"),I=(0,u.up)("el-switch"),P=(0,u.up)("ve-table"),F=(0,u.Q2)("permission");return(0,u.wg)(),(0,u.iD)("div",d,[(0,u.Wm)(z,{ref_key:"queryForm",ref:y,inline:!0,model:(0,a.SU)(U)},{default:(0,u.w5)((function(){return[(0,u.Wm)(h,{label:"角色",prop:"role"},{default:(0,u.w5)((function(){return[(0,u.Wm)(p,{clearable:"",modelValue:(0,a.SU)(k),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.dq)(k)?k.value=e:null}),placeholder:"请选择"},{default:(0,u.w5)((function(){return[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(x.value,(function(e){return(0,u.wg)(),(0,u.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.Wm)(h,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(j,{type:"primary",onClick:t[1]||(t[1]=function(e){return(0,a.SU)(s.MI)((0,a.SU)(U),R)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.search.name),1)]})),_:1}),(0,u.Wm)(j,{onClick:t[2]||(t[2]=function(e){return(0,a.SU)(s.Fx)(y.value,(0,a.SU)(U),R)})},{default:(0,u.w5)((function(){return[f]})),_:1})]})),_:1})]})),_:1},8,["model"]),(0,u.Wm)(P,{table:{data:b.value},pagination:{onSizeChange:function(e){return(0,a.SU)(s.EL)(e,(0,a.SU)(U),R)},onCurrentChange:function(e){return(0,a.SU)(s.jx)(e,(0,a.SU)(U),R)},currentPage:(0,a.SU)(S),pageSize:(0,a.SU)(_),total:(0,a.SU)(W)}},{tool_bar:(0,u.w5)((function(){return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{title:"弹窗式",size:"small",type:"primary",onClick:t[3]||(t[3]=function(n){return V(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[F,["add"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{title:"路由式",size:"small",type:"primary",onClick:t[4]||(t[4]=function(n){return C(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[F,["add"]]])]})),default:(0,u.w5)((function(){return[(0,u.Wm)(q,{prop:"name",label:"账号"}),(0,u.Wm)(q,{prop:"userName",label:"用户名"}),(0,u.Wm)(q,{prop:"password",label:"密码"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(E,{class:"item",effect:"dark",content:n.password,placement:"top"},{default:(0,u.w5)((function(){return[(0,u._)("span",null,(0,l.zw)(n.password&&n.password.split("").fill("*",1,-1).join().replace(/\,/g,"")),1)]})),_:2},1032,["content"])]})),_:1}),(0,u.Wm)(q,{prop:"role",label:"角色"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(H,null,{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((n.role||0==n.role)&&x.value.filter((function(e){return e.id==n.role}))[0].name),1)]})),_:2},1024)]})),_:1}),(0,u.Wm)(q,{prop:"status",label:"状态"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(I,{loading:!!n.load,modelValue:n.status,"onUpdate:modelValue":function(e){return n.status=e},"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949",onChange:function(e){return D(e,n)}},{default:(0,u.w5)((function(){return[m]})),_:2},1032,["loading","modelValue","onUpdate:modelValue","onChange"])]})),_:1}),(0,u.Wm)(q,{fixed:"right",label:"操作"},{default:(0,u.w5)((function(t){var a=t.row;return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{onClick:(0,o.iM)((function(n){return V(e.menus.edit.name,a)}),["prevent"]),type:"primary",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.edit.name),1)]})),_:2},1032,["onClick"])),[[F,["edit"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{onClick:(0,o.iM)((function(e){return t=a.id,void n.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.userDel({id:t});case 2:"00"==e.sent.code&&R();case 5:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.del.name),1)]})),_:2},1032,["onClick"])),[[F,["del"]]])]})),_:1})]})),_:1},8,["table","pagination"]),g.value?((0,u.wg)(),(0,u.j4)((0,a.SU)(i.default),{key:0,rowData:v.value,title:w.value,showDialog:g.value,onCloseDialog:t[5]||(t[5]=function(e){return n=e,g.value=n,void R();var n})},null,8,["rowData","title","showDialog"])):(0,u.kq)("",!0)])}}});var w=v},94311:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(48534),u=(t(68309),t(74916),t(64765),t(57327),t(41539),t(35666),t(66252)),a=t(2262),l=t(3577),o=t(49963),i=t(45712),c=t(42119),s=t(39595),d={class:"ve_container"},f=(0,u.Uk)(" 重置 "),m=(0,u.Uk)(" > "),p={data:function(){return{description:"用户信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"}}}}},v=Object.assign(p,{setup:function(e){var n=(0,u.FN)().proxy,t=(0,c.yj)(),p=(0,c.tv)(),v=(0,a.iH)(null),w=(0,a.iH)(""),g=(0,a.iH)(!1),y=(0,a.iH)(null),b=(0,a.iH)([]),U=(0,a.qj)({role:isNaN(1*t.query.id)?"":1*t.query.id,limit:10,page:1,total:0}),h=(0,a.BK)(U),k=h.role,_=h.limit,S=h.page,W=h.total,x=(0,a.iH)([]),V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g.value=!0,w.value=e,v.value=n},C=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"system/components/UsersEditRoute",e.next=3,(0,s.fG)(n,"system/components/UsersEditRoute","add",{router:p,route:t});case 3:r=e.sent,p.push({name:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleList({page:1,limit:10});case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.list,x.value=u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(n,t){var r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.id){e.next=2;break}return e.abrupt("return");case 2:return t.load=1,e.next=5,VE_API.system.userStatus({id:t.id,status:n},{Global:!1});case 5:r=e.sent,u=r.code,setTimeout((function(){t.load=0,"00"!=u&&(t.status=1==n?0:1)}),500);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u,a,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.userList(U);case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.limit,a=r.page,l=r.total,o=r.list,U.limit=u,U.page=a,U.total=l,b.value=o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return e.next=4,R();case 4:case"end":return e.stop()}}),e)})))),function(e,t){var c=(0,u.up)("el-option"),p=(0,u.up)("el-select"),h=(0,u.up)("el-form-item"),j=(0,u.up)("el-button"),z=(0,u.up)("el-form"),q=(0,u.up)("el-table-column"),E=(0,u.up)("el-tooltip"),H=(0,u.up)("el-tag"),I=(0,u.up)("el-switch"),P=(0,u.up)("ve-table"),F=(0,u.Q2)("permission");return(0,u.wg)(),(0,u.iD)("div",d,[(0,u.Wm)(z,{ref_key:"queryForm",ref:y,inline:!0,model:(0,a.SU)(U)},{default:(0,u.w5)((function(){return[(0,u.Wm)(h,{label:"角色",prop:"role"},{default:(0,u.w5)((function(){return[(0,u.Wm)(p,{clearable:"",modelValue:(0,a.SU)(k),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,a.dq)(k)?k.value=e:null}),placeholder:"请选择"},{default:(0,u.w5)((function(){return[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(x.value,(function(e){return(0,u.wg)(),(0,u.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.Wm)(h,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(j,{type:"primary",onClick:t[1]||(t[1]=function(e){return(0,a.SU)(s.MI)((0,a.SU)(U),R)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.search.name),1)]})),_:1}),(0,u.Wm)(j,{onClick:t[2]||(t[2]=function(e){return(0,a.SU)(s.Fx)(y.value,(0,a.SU)(U),R)})},{default:(0,u.w5)((function(){return[f]})),_:1})]})),_:1})]})),_:1},8,["model"]),(0,u.Wm)(P,{table:{data:b.value},pagination:{onSizeChange:function(e){return(0,a.SU)(s.EL)(e,(0,a.SU)(U),R)},onCurrentChange:function(e){return(0,a.SU)(s.jx)(e,(0,a.SU)(U),R)},currentPage:(0,a.SU)(S),pageSize:(0,a.SU)(_),total:(0,a.SU)(W)}},{tool_bar:(0,u.w5)((function(){return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{title:"弹窗式",size:"small",type:"primary",onClick:t[3]||(t[3]=function(n){return V(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[F,["add"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{title:"路由式",size:"small",type:"primary",onClick:t[4]||(t[4]=function(n){return C(e.menus.add.name)})},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.add.name),1)]})),_:1})),[[F,["add"]]])]})),default:(0,u.w5)((function(){return[(0,u.Wm)(q,{prop:"name",label:"账号"}),(0,u.Wm)(q,{prop:"userName",label:"用户名"}),(0,u.Wm)(q,{prop:"password",label:"密码"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(E,{class:"item",effect:"dark",content:n.password,placement:"top"},null,8,["content"])]})),_:1}),(0,u.Wm)(q,{prop:"role",label:"角色"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(H,null,{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((n.role||0==n.role)&&x.value.filter((function(e){return e.id==n.role}))[0].name),1)]})),_:2},1024)]})),_:1}),(0,u.Wm)(q,{prop:"status",label:"状态"},{default:(0,u.w5)((function(e){var n=e.row;return[(0,u.Wm)(I,{loading:!!n.load,modelValue:n.status,"onUpdate:modelValue":function(e){return n.status=e},"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949",onChange:function(e){return D(e,n)}},{default:(0,u.w5)((function(){return[m]})),_:2},1032,["loading","modelValue","onUpdate:modelValue","onChange"])]})),_:1}),(0,u.Wm)(q,{fixed:"right",label:"操作"},{default:(0,u.w5)((function(t){var a=t.row;return[(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{onClick:(0,o.iM)((function(n){return V(e.menus.edit.name,a)}),["prevent"]),type:"primary",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.edit.name),1)]})),_:2},1032,["onClick"])),[[F,["edit"]]]),(0,u.wy)(((0,u.wg)(),(0,u.j4)(j,{onClick:(0,o.iM)((function(e){return t=a.id,void n.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.userDel({id:t});case 2:"00"==e.sent.code&&R();case 5:case"end":return e.stop()}}),e)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)(e.menus.del.name),1)]})),_:2},1032,["onClick"])),[[F,["del"]]])]})),_:1})]})),_:1},8,["table","pagination"]),g.value?((0,u.wg)(),(0,u.j4)((0,a.SU)(i.default),{key:0,rowData:v.value,title:w.value,showDialog:g.value,onCloseDialog:t[5]||(t[5]=function(e){return n=e,g.value=n,void R();var n})},null,8,["rowData","title","showDialog"])):(0,u.kq)("",!0)])}}});var w=v},52561:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(95082),u=t(48534),a=(t(35666),t(57327),t(41539),t(21249),t(33948),t(74916),t(15306),t(82526),t(41817),t(26699),t(32023),t(68309),t(2707),t(21703),t(69826),t(47042),t(66252)),l=t(2262),o=t(49963),i=t(3577),c=t(36738),s=t(38478),d=(0,a.Uk)(" 目录 "),f=(0,a.Uk)(" 菜单 "),m=(0,a.Uk)(" 按钮 "),p=(0,a.Uk)("否"),v=(0,a.Uk)("是"),w={style:{margin:"0"}},g={class:"ve_select_option_slot"},y={key:1,style:{color:"red"}},b=(0,a.Uk)("取消"),U=(0,a.Uk)("确定"),h={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null},menuList:{type:Array,default:null}},emits:["closeDialog"],setup:function(e,n){var h=n.emit,k=e,_=(0,l.BK)(k),S=_.title,W=_.rowData,x=_.menuList,V=function(){h("closeDialog",!1)},C=(0,l.iH)([]),j=(0,l.iH)(null),D=function(){var e=t(70998);return e.keys().map((function(n){return{url:n.replace(/^(\.\/)|(\.vue)/g,""),description:e(n).default.data&&(e(n).default.data().description||"无"),menus:e(n).default.data&&(e(n).default.data().menus||[])}})).filter((function(e){return!e.url.includes("/components/")}))}(),R=(0,l.qj)({name:"",type:0,parentId:-1,menu:"",url:"",icon:"Menu",iframe:1,sort:1,toPath:""}),z=(0,l.BK)(R),q=z.name,E=z.type,H=z.parentId,I=z.menu,P=z.url,F=z.icon,A=z.iframe,L=z.sort,N=z.toPath,Z=(0,a.Fl)((function(){return{parentId:[{required:2==E.value,message:"请选择父级菜单",trigger:"change"}],name:[{required:2!=E.value,message:"请输入菜单名称",trigger:"blur"}],menu:[{required:2==E.value,message:"请选择按钮",trigger:"change"}],icon:[{required:2!=E.value,message:"请选择图标",trigger:"change"}],url:[{required:1==E.value,pattern:/^(https?:\/\/)?(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i,message:"url不正确",trigger:"change"}]}})),B=(0,a.Fl)((function(){return[{required:O.value,message:"请选择目标菜单",trigger:"change"},{validator:function(e,n,t){n==H.value?t(new Error("不可以选择当前父级菜单")):t()},trigger:"change"}]}));W.value&&(q.value=W.value.name,E.value=W.value.type,H.value=W.value.parentId,P.value=W.value.url,I.value=W.value.menu,F.value=W.value.icon,A.value=W.value.iframe,N.value=W.value.toPath,L.value=W.value.sort);var M=function(e){j.value.resetFields(),2==e&&(F.value="")},T=function(e){!0===e&&C.value.length<1&&(C.value=(0,c.ci)())},K=function(){2==E.value&&(q.value="",I.value="",(0,a.Y3)((function(){j.value.clearValidate("menu")})))},O=(0,a.Fl)((function(){return!(!Y.value||!I.value)&&Y.value[I.value].toPath})),$=(0,a.Fl)((function(){return function(e){var n=!0;switch(S.value){case"编辑":e==E.value&&(n=!1);break;case"添加子级":0!=e&&1!=e||(n=!1);break;case"添加按钮":2==e&&(n=!1);break;default:n=!1}return n}})),Y=(0,a.Fl)((function(){var e=s.findTree(x.value,(function(e){return e.id==H.value}));return!(!e||!D.find((function(n){return n.url==e.item.url})))&&D.find((function(n){return n.url==e.item.url})).menus})),G=(0,a.Fl)((function(){return function(e){var n=s.findTree(x.value,(function(e){return e.id==H.value}));if(n)return(!W.value||e!=W.value.menu)&&(n.item.children&&n.item.children.find((function(n){return n.menu==e}))&&!0)}})),Q=function(){"添加按钮"!=S.value&&"添加子级"!=S.value||(q.value="",I.value="",P.value="",F.value="Menu",A.value=1,L.value=1,N.value="",H.value=(0,c.XN)(x.value,(function(e){return e.id===W.value.id})).slice(-1)[0],"添加按钮"==S.value&&(E.value=2,F.value=""))};(0,a.bv)((function(){Q()}));return function(n,t){var c=(0,a.up)("el-radio-button"),s=(0,a.up)("el-radio-group"),h=(0,a.up)("el-form-item"),k=(0,a.up)("el-cascader"),_=(0,a.up)("el-input-number"),z=(0,a.up)("el-input"),Q=(0,a.up)("el-icon"),X=(0,a.up)("el-option"),J=(0,a.up)("el-select"),ee=(0,a.up)("el-radio"),ne=(0,a.up)("el-form"),te=(0,a.up)("el-button"),re=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.j4)(re,{title:(0,l.SU)(S),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:t[14]||(t[14]=function(e){return V()})},{footer:(0,a.w5)((function(){return[(0,a._)("span",null,[(0,a.Wm)(te,{onClick:t[12]||(t[12]=function(e){return V()})},{default:(0,a.w5)((function(){return[b]})),_:1}),(0,a.Wm)(te,{type:"primary",onClick:t[13]||(t[13]=function(e){j.value.validate(function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}if(!S.value.includes("添加")){e.next=7;break}return e.next=4,VE_API.system.menuAdd(R);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,VE_API.system.menuEdit((0,r.Z)({id:W.value.id},R));case 9:t=e.sent;case 10:"00"==t.code&&V(),e.next=16;break;case 14:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})},{default:(0,a.w5)((function(){return[U]})),_:1})])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{ref_key:"formRef",ref:j,model:(0,l.SU)(R),"label-width":"80px",rules:(0,l.SU)(Z),inline:!1},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{label:"类型"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{modelValue:(0,l.SU)(E),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,l.dq)(E)?E.value=e:null}),onChange:M},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{disabled:(0,l.SU)($)(0),label:0},{default:(0,a.w5)((function(){return[d]})),_:1},8,["disabled"]),(0,a.Wm)(c,{disabled:(0,l.SU)($)(1),label:1},{default:(0,a.w5)((function(){return[f]})),_:1},8,["disabled"]),(0,a.Wm)(c,{disabled:(0,l.SU)($)(2),label:2},{default:(0,a.w5)((function(){return[m]})),_:1},8,["disabled"])]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(h,{label:"父级",prop:"parentId"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{style:{width:"100%"},options:(0,l.SU)(x),modelValue:(0,l.SU)(H),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,l.dq)(H)?H.value=e:null}),clearable:"",filterable:"",props:{expandTrigger:"hover",emitPath:!1,checkStrictly:!0,value:"id",label:"name",disabled:2==(0,l.SU)(E)?"iframe":"type"},onChange:K,disabled:"添加"!=(0,l.SU)(S)},null,8,["options","modelValue","props","disabled"])]})),_:1}),(0,a.wy)((0,a.Wm)(h,{label:"排序"},{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{modelValue:(0,l.SU)(L),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,l.dq)(L)?L.value=e:null}),min:0,"step-strictly":"",step:1},null,8,["modelValue"])]})),_:1},512),[[o.F8,2!=(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"名称",prop:"name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{modelValue:(0,l.SU)(q),"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,l.dq)(q)?q.value=e:null})},null,8,["modelValue"])]})),_:1},512),[[o.F8,2!=(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"图标",prop:"icon"},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{style:{width:"100%"},modelValue:(0,l.SU)(F),"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,l.dq)(F)?F.value=e:null}),placeholder:"",clearable:"",filterable:"",onVisibleChange:T,"popper-class":"ve_option_box"},{prefix:(0,a.w5)((function(){return[2!=(0,l.SU)(E)?((0,a.wg)(),(0,a.j4)(Q,{key:0,size:20,style:{color:"#000"}},{default:(0,a.w5)((function(){return[((0,a.wg)(),(0,a.j4)((0,a.LL)((0,l.SU)(F))))]})),_:1})):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.value,(function(e){return(0,a.wg)(),(0,a.j4)(X,{style:{display:"inline-block",height:"auto",padding:"10px 11px 0px"},key:e,label:e,value:e},{default:(0,a.w5)((function(){return[(0,a.Wm)(Q,{title:e,size:30},{default:(0,a.w5)((function(){return[((0,a.wg)(),(0,a.j4)((0,a.LL)(e)))]})),_:2},1032,["title"])]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},512),[[o.F8,2!=(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"iframe",onChange:t[6]||(t[6]=function(e){return P.value="",void(0,a.Y3)((function(){W.value&&A.value==W.value.iframe&&(P.value=W.value.url),j.value.clearValidate("url")}))})},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{modelValue:(0,l.SU)(A),"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,l.dq)(A)?A.value=e:null})},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{label:0},{default:(0,a.w5)((function(){return[p]})),_:1}),(0,a.Wm)(c,{label:1},{default:(0,a.w5)((function(){return[v]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},512),[[o.F8,1==(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"路径",prop:"url"},{default:(0,a.w5)((function(){return[1==(0,l.SU)(A)?((0,a.wg)(),(0,a.j4)(z,{key:0,modelValue:(0,l.SU)(P),"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,l.dq)(P)?P.value=e:null}),placeholder:"请输入",clearable:""},null,8,["modelValue"])):((0,a.wg)(),(0,a.j4)(J,{key:1,style:{width:"100%"},modelValue:(0,l.SU)(P),"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,l.dq)(P)?P.value=e:null}),placeholder:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(D),(function(e){return(0,a.wg)(),(0,a.j4)(X,{style:{height:"auto"},key:e.url,label:e.url,value:e.url},{default:(0,a.w5)((function(){return[(0,a._)("p",w,(0,i.zw)(e.url),1),(0,a._)("span",g," 描述 ："+(0,i.zw)(e.description),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue"]))]})),_:1},512),[[o.F8,1==(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"按钮",prop:"menu"},{default:(0,a.w5)((function(){return[(0,l.SU)(Y)?((0,a.wg)(),(0,a.j4)(s,{key:0,modelValue:(0,l.SU)(I),"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,l.dq)(I)?I.value=e:null}),onChange:t[10]||(t[10]=function(e){return q.value=Y.value[I.value].name,N.value="",void(0,a.Y3)((function(){W.value&&I.value==W.value.menu&&(N.value=W.value.toPath),j.value.clearValidate("toPath")}))})},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(Y),(function(e,n){return(0,a.wg)(),(0,a.j4)(ee,{key:n,label:n,disabled:(0,l.SU)(G)(n)},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["label","disabled"])})),128))]})),_:1},8,["modelValue"])):((0,a.wg)(),(0,a.iD)("span",y,"该菜单下没有按钮"))]})),_:1},512),[[o.F8,2==(0,l.SU)(E)]]),(0,a.wy)((0,a.Wm)(h,{label:"目标菜单",prop:"toPath",rules:(0,l.SU)(B)},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{style:{width:"100%"},options:(0,l.SU)(x),modelValue:(0,l.SU)(N),"onUpdate:modelValue":t[11]||(t[11]=function(e){return(0,l.dq)(N)?N.value=e:null}),clearable:"",filterable:"",props:{expandTrigger:"hover",emitPath:!1,checkStrictly:!0,value:"id",label:"name",disabled:"iframe"}},null,8,["options","modelValue"])]})),_:1},8,["rules"]),[[o.F8,2==(0,l.SU)(E)&&(0,l.SU)(O)]])]})),_:1},8,["model","rules"])]})),_:1},8,["title","model-value"])}}};var k=h},45712:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(95082),u=t(48534),a=(t(35666),t(68309),t(66252)),l=t(2262),o=(0,a.Uk)("启用"),i=(0,a.Uk)("停用"),c=(0,a.Uk)("取消"),s=(0,a.Uk)("确定"),d={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup:function(e,n){var t=n.emit,d=e,f={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],userName:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},m=(0,l.BK)(d),p=m.title,v=m.rowData,w=function(){t("closeDialog",!1)},g=(0,l.iH)(null),y=(0,l.qj)({name:"",userName:"",password:"",role:"",status:1}),b=(0,l.BK)(y),U=b.userName,h=b.name,k=b.password,_=b.role,S=b.status,W=(0,l.iH)([]);v.value&&(h.value=v.value.name,U.value=v.value.userName,k.value=v.value.password,_.value=v.value.role,S.value=v.value.status);var x=function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleList({page:1,limit:10},{Global:!1});case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.list,W.value=u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x();return function(n,t){var d=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),b=(0,a.up)("el-option"),x=(0,a.up)("el-select"),V=(0,a.up)("el-radio-button"),C=(0,a.up)("el-radio-group"),j=(0,a.up)("el-form"),D=(0,a.up)("el-button"),R=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.j4)(R,{title:(0,l.SU)(p),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:t[7]||(t[7]=function(e){return w()})},{footer:(0,a.w5)((function(){return[(0,a._)("span",null,[(0,a.Wm)(D,{onClick:t[5]||(t[5]=function(e){return w()})},{default:(0,a.w5)((function(){return[c]})),_:1}),(0,a.Wm)(D,{type:"primary",onClick:t[6]||(t[6]=function(e){g.value.validate(function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}if("添加"!=p.value){e.next=7;break}return e.next=4,VE_API.system.userAdd(y);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,VE_API.system.userEdit((0,r.Z)({id:v.value.id},y));case 9:t=e.sent;case 10:"00"==t.code&&w(),e.next=16;break;case 14:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})},{default:(0,a.w5)((function(){return[s]})),_:1})])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(j,{model:(0,l.SU)(y),ref_key:"formRef",ref:g,rules:f,"label-width":"80px",inline:!1},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"账号",prop:"name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{modelValue:(0,l.SU)(h),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,l.dq)(h)?h.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(m,{label:"用户名",prop:"userName"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{modelValue:(0,l.SU)(U),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,l.dq)(U)?U.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(m,{label:"密码",prop:"password"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{modelValue:(0,l.SU)(k),"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,l.dq)(k)?k.value=e:null}),"show-password":"",placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(m,{label:"角色",prop:"role"},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{style:{width:"100%"},modelValue:(0,l.SU)(_),"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,l.dq)(_)?_.value=e:null}),placeholder:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.value,(function(e){return(0,a.wg)(),(0,a.j4)(b,{key:e.id,label:e.name,value:e.id,disabled:0==e.status},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(m,{label:"状态"},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{modelValue:(0,l.SU)(S),"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,l.dq)(S)?S.value=e:null})},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{label:1},{default:(0,a.w5)((function(){return[o]})),_:1}),(0,a.Wm)(V,{label:0},{default:(0,a.w5)((function(){return[i]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["title","model-value"])}}};var f=d},95228:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(95082),u=t(48534),a=(t(35666),t(68309),t(66252)),l=t(2262),o=(0,a.Uk)("启用"),i=(0,a.Uk)("停用"),c=(0,a.Uk)("取消"),s=(0,a.Uk)("确定"),d={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup:function(e,n){var t=n.emit,d=e,f={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],userName:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},m=(0,l.BK)(d),p=m.title,v=m.rowData,w=function(){t("closeDialog",!1)},g=(0,l.iH)(null),y=(0,l.qj)({name:"",userName:"",password:"",role:"",status:1}),b=(0,l.BK)(y),U=b.userName,h=b.name,k=b.password,_=b.role,S=b.status,W=(0,l.iH)([]);v.value&&(h.value=v.value.name,U.value=v.value.userName,k.value=v.value.password,_.value=v.value.role,S.value=v.value.status);var x=function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(){var n,t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE_API.system.roleList({page:1,limit:10},{Global:!1});case 2:n=e.sent,t=n.code,r=n.data,"00"==t&&(u=r.list,W.value=u);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x();return function(e,n){var t=(0,a.up)("el-input"),d=(0,a.up)("el-form-item"),m=(0,a.up)("el-option"),b=(0,a.up)("el-select"),x=(0,a.up)("el-radio-button"),V=(0,a.up)("el-radio-group"),C=(0,a.up)("el-button"),j=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(j,{model:(0,l.SU)(y),ref_key:"formRef",ref:g,rules:f,"label-width":"80px",inline:!1},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{label:"账号",prop:"name"},{default:(0,a.w5)((function(){return[(0,a.Wm)(t,{modelValue:(0,l.SU)(h),"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,l.dq)(h)?h.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(d,{label:"用户名",prop:"userName"},{default:(0,a.w5)((function(){return[(0,a.Wm)(t,{modelValue:(0,l.SU)(U),"onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,l.dq)(U)?U.value=e:null}),placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(d,{label:"密码",prop:"password"},{default:(0,a.w5)((function(){return[(0,a.Wm)(t,{modelValue:(0,l.SU)(k),"onUpdate:modelValue":n[2]||(n[2]=function(e){return(0,l.dq)(k)?k.value=e:null}),"show-password":"",placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(d,{label:"角色",prop:"role"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{style:{width:"100%"},modelValue:(0,l.SU)(_),"onUpdate:modelValue":n[3]||(n[3]=function(e){return(0,l.dq)(_)?_.value=e:null}),placeholder:"",clearable:""},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.value,(function(e){return(0,a.wg)(),(0,a.j4)(m,{key:e.id,label:e.name,value:e.id,disabled:0==e.status},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(d,{label:"状态"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{modelValue:(0,l.SU)(S),"onUpdate:modelValue":n[4]||(n[4]=function(e){return(0,l.dq)(S)?S.value=e:null})},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,{label:1},{default:(0,a.w5)((function(){return[o]})),_:1}),(0,a.Wm)(x,{label:0},{default:(0,a.w5)((function(){return[i]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{onClick:n[5]||(n[5]=function(e){return w()})},{default:(0,a.w5)((function(){return[c]})),_:1}),(0,a.Wm)(C,{type:"primary",onClick:n[6]||(n[6]=function(e){g.value.validate(function(){var e=(0,u.Z)(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}if("添加"!=p.value){e.next=7;break}return e.next=4,VE_API.system.userAdd(y);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,VE_API.system.userEdit((0,r.Z)({id:v.value.id},y));case 9:t=e.sent;case 10:"00"==t.code&&w(),e.next=16;break;case 14:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})},{default:(0,a.w5)((function(){return[s]})),_:1})]})),_:1})]})),_:1},8,["model"])}}};var f=d},81150:function(e){e.exports=Object.is||function(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}},69600:function(e,n,t){"use strict";var r=t(82109),u=t(1702),a=t(68361),l=t(45656),o=t(9341),i=u([].join),c=a!=Object,s=o("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(e){return i(l(this),void 0===e?",":e)}})},64765:function(e,n,t){"use strict";var r=t(46916),u=t(27007),a=t(19670),l=t(84488),o=t(81150),i=t(41340),c=t(58173),s=t(97651);u("search",(function(e,n,t){return[function(n){var t=l(this),u=null==n?void 0:c(n,e);return u?r(u,n,t):new RegExp(n)[e](i(t))},function(e){var r=a(this),u=i(e),l=t(n,r,u);if(l.done)return l.value;var c=r.lastIndex;o(c,0)||(r.lastIndex=0);var d=s(r,u);return o(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))},39595:function(e,n,t){"use strict";t.d(n,{MI:function(){return l},Fx:function(){return o},EL:function(){return i},jx:function(){return c},G8:function(){return s},fG:function(){return d}});var r=t(48534),u=t(66252),a=(t(35666),t(69826),t(41539),t(92222),t(74916),t(15306),t(68309),t(38478)),l=function(e,n){e.limit=10,e.page=1,n()},o=function(e,n,t){e.resetFields(),l(n,t)},i=function(e,n,t){n.page=1,n.limit=e,t()},c=function(e,n,t){n.page=e,t()},s=function(e,n,t,r,u){var l="",o=a.findTree(r,(function(e){return e.id==t}));if(o&&o.item&&o.item.children&&o.item.children.length>0){var i=o.item.children.find((function(n){return n.menu==e}));i&&(l=i.toPath)}if(""!=l){var c=a.findTree(r,(function(e){return e.id==l}));if(c&&c.item){if(0!=c.item.iframe)return"i-".concat(l);if(c.item.url==n)return"".concat(n.replace(/\//g,"-"),"-").concat(l)}}u.$message({type:"error",message:"无法跳转,请联系系统管理员!"})},d=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(n,r,a,l){var o,i,c,s,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.router,i=l.route,c=t(87229).default,s=t(31958)("./"+r+".vue").default,d={components:{FunctionPage:c,AsyncComponent:s},data:function(){return{rName:null}},methods:{reload:function(e){return e.returnValue=""}},mounted:function(){this.rName=this.$route.name,window.addEventListener("beforeunload",this.reload)},beforeUnmount:function(){window.removeEventListener("beforeunload",this.reload),this.$router.removeRoute(this.rName)},render:function(){return(0,u.Wm)((0,u.up)("function-page"),{title:n},{default:function(){return[(0,u.Wm)((0,u.up)("async-component"),null,null)]}})}},f={name:i.name+"/"+a,path:i.name+"/"+a,component:d},e.next=7,o.addRoute("AppMain",f);case 7:return e.abrupt("return",f.name);case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,u){return e.apply(this,arguments)}}()},70998:function(e,n,t){var r={"./leisure/Game.vue":60172,"./system/Menus.vue":71099,"./system/Roles.vue":82750,"./system/UserTable.vue":20596,"./system/Users.vue":94311,"./system/components/MenuEdit.vue":52561,"./system/components/RoleEdit.vue":92760,"./system/components/UsersEdit.vue":45712,"./system/components/UsersEditRoute.vue":95228};function u(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}u.keys=function(){return Object.keys(r)},u.resolve=a,e.exports=u,u.id=70998},31958:function(e,n,t){var r={"./leisure/Game.vue":60172,"./system/Menus.vue":71099,"./system/Roles.vue":82750,"./system/UserTable.vue":20596,"./system/Users.vue":94311,"./system/components/MenuEdit.vue":52561,"./system/components/RoleEdit.vue":92760,"./system/components/UsersEdit.vue":45712,"./system/components/UsersEditRoute.vue":95228};function u(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}u.keys=function(){return Object.keys(r)},u.resolve=a,e.exports=u,u.id=31958}}]);