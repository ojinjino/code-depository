(self.webpackChunkvue3_element_admin=self.webpackChunkvue3_element_admin||[]).push([[685,229,172,138,712,228],{87229:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return n}});var t=a(66252),u=a(2262);var n={props:{title:{type:String,require:!0}},setup(e){const l=e,{title:a}=(0,u.BK)(l);return(e,l)=>{const n=(0,t.up)("el-page-header"),o=(0,t.up)("el-alert"),i=(0,t.up)("el-divider");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(n,{onBack:l[0]||(l[0]=l=>e.$router.back()),content:(0,u.SU)(a)},null,8,["content"]),(0,t.Wm)(o,{style:{"margin-top":"20px"},type:"info",description:"当前为动态权限页面!离开后将无法访问!刷新页面请使用本系统自带刷新按钮!!!","show-icon":"","close-text":"知道了"}),(0,t.Wm)(i),(0,t.WI)(e.$slots,"default")])}}}},60172:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return f}});var t=a(66252),u=a(3577),n=a(49963),o=a(2262);const i={id:"ve_puzzle"},r=["onClick"],d={class:"ve_button"},s={class:"ve_game_button"},m=(0,t.Uk)(" 重新开始 "),p={class:"ve_upload"},c=(0,t.Uk)(" 用我的萌照 "),w={data:()=>({description:"拼图小游戏"})};var v=Object.assign(w,{setup(e){let l=a(66949);const w=(0,o.iH)(l),v=(0,o.iH)(!1),f=(0,o.iH)("查看原图"),g=(0,o.iH)([]),y=(0,o.iH)([]),_=(0,o.iH)(!1),U=e=>{w.value=URL.createObjectURL(e.raw),b()},b=()=>{f.value="查看原图",v.value=!1,_.value=!1,y.value.length=0;for(let e=1;e<16;e++)y.value.push(e);for(;y.value.sort((()=>.5-Math.random())),!k(y.value););y.value.push(16)},k=e=>{let l=0;for(let a=0;a<15;a++)for(let t=a+1;t<15;t++)e[t]<e[a]&&l++;return l%2==0},h=(e,l)=>{let a=l.target.offsetTop,t=l.target.offsetLeft,u=g.value[15].offsetTop,n=g.value[15].offsetLeft,o=Math.abs(t-n),i=Math.abs(a-u);if(100==o&&a==u||100==i&&t==n){let l=y.value[15];y.value[15]=y.value[e],y.value[e]=l,y.value.every(((e,l)=>e==l+1))&&(_.value=!0)}};return b(),(0,t.Xn)((()=>{g.value=[]})),(e,l)=>{const a=(0,t.up)("el-button"),o=(0,t.up)("el-col"),k=(0,t.up)("el-row"),W=(0,t.up)("el-upload");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",{class:"ve_artwork",style:(0,u.j5)({backgroundImage:v.value||_.value?`url(${w.value})`:"none"})},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(16,(e=>(0,t._)("div",{key:e,class:(0,u.C_)(["ve_item_box",`pic${e}`,`img${y.value[e-1]}`,v.value||_.value?"ve_show_img":"",_.value&&16==e?"ve_finish":""]),style:(0,u.j5)({backgroundImage:16==e?_.value?`url(${w.value})`:"none":`url(${w.value})`}),ref_for:!0,ref:l=>{l&&(g.value[e-1]=l)},onClick:(0,n.iM)((l=>h(e-1,l)),["self","stop"])},null,14,r))),64))],4),(0,t._)("div",d,[(0,t._)("div",s,[(0,t.Wm)(k,{gutter:10},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{span:12,offset:0},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{type:"primary",onClick:l[0]||(l[0]=e=>b()),style:{width:"100%"}},{default:(0,t.w5)((()=>[m])),_:1})])),_:1}),(0,t.Wm)(o,{span:12,offset:0},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{style:{width:"100%"},type:v.value?"success":"info",onClick:l[1]||(l[1]=e=>(v.value=!v.value,void(f.value=v.value?"继续游戏":"查看原图"))),disabled:_.value},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(f.value),1)])),_:1},8,["type","disabled"])])),_:1})])),_:1})]),(0,t._)("div",p,[(0,t.Wm)(W,{style:{width:"100%"},action:"",accept:"image/png, image/jpeg",ref:"upload","on-change":U,"auto-upload":!1,"show-file-list":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{style:{width:"100%"},type:"danger"},{default:(0,t.w5)((()=>[c])),_:1})])),_:1},512)])])])}}});var f=(0,a(83744).Z)(v,[["__scopeId","data-v-6e15f3c4"]])},71099:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return k}});var t=a(66252),u=a(2262),n=a(3577),o=a(49963);const i=e=>/^http[s]?:\/\/.*/.test(e);var r=a(52561),d=a(39595),s=a(38478);const m={class:"ve_container"},p=(0,t.Uk)(" 重置 "),c={style:{"vertical-align":"middle"}},w={key:1},v={key:0,style:{"font-weight":"bold"}},f={key:1},g={key:1},y={key:1},_={key:1},U={key:2},b={data:()=>({description:"菜单查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"},addChild:{name:"添加子级"},addBtn:{name:"添加按钮"}}})};var k=Object.assign(b,{setup(e){const{proxy:l}=(0,t.FN)(),a=(0,u.iH)(null),b=(0,u.iH)(""),k=(0,u.iH)(!1),h=(0,u.iH)(null),W=(0,u.iH)([]),S=(0,u.qj)({name:"",limit:10,page:1,total:0}),{name:V,limit:C,page:j,total:D}=(0,u.BK)(S),z=(e,l=null)=>{k.value=!0,b.value=e,h.value=l},q=async()=>{const{code:e,data:l}=await VE_API.system.menuList(S);if("00"==e){const e=s.mapTree(s.toArrayTree(l,{sortKey:"sort"}),(e=>(e.children&&e.children.length<=0&&delete e.children,e)));W.value=e}};return(0,t.bv)((async()=>{await q()})),(e,s)=>{const E=(0,t.up)("el-input"),x=(0,t.up)("el-form-item"),H=(0,t.up)("el-button"),P=(0,t.up)("el-form"),I=(0,t.up)("el-table-column"),L=(0,t.up)("el-icon"),F=(0,t.up)("el-tag"),A=(0,t.up)("el-link"),M=(0,t.up)("ve-table"),N=(0,t.Q2)("permission");return(0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(P,{ref_key:"queryForm",ref:a,inline:!0,model:(0,u.SU)(S)},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{label:"名称",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{clearable:"",modelValue:(0,u.SU)(V),"onUpdate:modelValue":s[0]||(s[0]=e=>(0,u.dq)(V)?V.value=e:null),placeholder:"名称"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(H,{type:"primary",onClick:s[1]||(s[1]=e=>(0,u.SU)(d.MI)((0,u.SU)(S),q))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.search.name),1)])),_:1}),(0,t.Wm)(H,{onClick:s[2]||(s[2]=e=>(0,u.SU)(d.Fx)(a.value,(0,u.SU)(S),q))},{default:(0,t.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Wm)(M,{table:{data:W.value,rowKey:"id",defaultExpandAll:!0},pagination:{hideOnSinglePage:!0,onSizeChange:e=>(0,u.SU)(d.EL)(e,(0,u.SU)(S),q),onCurrentChange:e=>(0,u.SU)(d.jx)(e,(0,u.SU)(S),q),currentPage:(0,u.SU)(j),pageSize:(0,u.SU)(C),total:(0,u.SU)(D)}},{tool_bar:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{size:"small",type:"primary",onClick:s[3]||(s[3]=l=>z(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[N,["add"]]])])),default:(0,t.w5)((()=>[(0,t.Wm)(I,{prop:"name",label:"名称"}),(0,t.Wm)(I,{prop:"icon",label:"图标"},{default:(0,t.w5)((({row:e})=>[2!==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(L,{style:{"margin-right":"6px","vertical-align":"middle"}},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.icon)))])),_:2},1024),(0,t._)("span",c,(0,n.zw)(e.icon),1)],64)):((0,t.wg)(),(0,t.iD)("span",w,"/"))])),_:1}),(0,t.Wm)(I,{prop:"type",label:"类型"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(F,{type:0==e.type?"":1==e.type?"success":"warning"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(0==e.type?"目录":1==e.type?"菜单":"按钮"),1)])),_:2},1032,["type"])])),_:1}),(0,t.Wm)(I,{prop:"sort",label:"排序"},{default:(0,t.w5)((({row:e})=>[2!==e.type?((0,t.wg)(),(0,t.iD)("span",v,(0,n.zw)(e.sort),1)):((0,t.wg)(),(0,t.iD)("span",f,"/"))])),_:1}),(0,t.Wm)(I,{prop:"iframe",label:"Iframe"},{default:(0,t.w5)((({row:e})=>[1==e.type?((0,t.wg)(),(0,t.j4)(F,{key:0,type:0==e.iframe?"danger":"",effect:"dark"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(0==e.iframe?"否":"是"),1)])),_:2},1032,["type"])):((0,t.wg)(),(0,t.iD)("span",g,"/"))])),_:1}),(0,t.Wm)(I,{prop:"url",label:"URL/标识","show-overflow-tooltip":""},{default:(0,t.w5)((({row:e})=>[1==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,u.SU)(i)(e.url)?((0,t.wg)(),(0,t.j4)(A,{key:0,type:"primary",href:e.url,target:"_blank"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.url),1)])),_:2},1032,["href"])):((0,t.wg)(),(0,t.iD)("span",y,(0,n.zw)(e.url),1))],64)):2==e.type?((0,t.wg)(),(0,t.iD)("span",_,(0,n.zw)(e.menu),1)):((0,t.wg)(),(0,t.iD)("span",U,"/"))])),_:1}),(0,t.Wm)(I,{fixed:"right",label:"操作",width:"240"},{default:(0,t.w5)((({row:a})=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{onClick:(0,o.iM)((l=>z(e.menus.edit.name,a)),["prevent"]),type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.edit.name),1)])),_:2},1032,["onClick"])),[[N,["edit"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{onClick:(0,o.iM)((e=>{return t=a.id,void l.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((async()=>{const{code:e}=await VE_API.system.menuDel({id:t});"00"==e&&q()})).catch((()=>{l.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.del.name),1)])),_:2},1032,["onClick"])),[[N,["del"]]]),0==a.type?(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{key:0,onClick:(0,o.iM)((l=>z(e.menus.addChild.name,a)),["prevent"]),type:"warning",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.addChild.name),1)])),_:2},1032,["onClick"])),[[N,["addChild"]]]):(0,t.kq)("",!0),1==a.type&&0==a.iframe?(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{key:1,onClick:(0,o.iM)((l=>z(e.menus.addBtn.name,a)),["prevent"]),type:"success",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.addBtn.name),1)])),_:2},1032,["onClick"])),[[N,["addBtn"]]]):(0,t.kq)("",!0)])),_:1})])),_:1},8,["table","pagination"]),k.value?((0,t.wg)(),(0,t.j4)((0,u.SU)(r.default),{key:0,menuList:W.value,rowData:h.value,title:b.value,showDialog:k.value,onCloseDialog:s[4]||(s[4]=e=>{return l=e,k.value=l,void q();var l})},null,8,["menuList","rowData","title","showDialog"])):(0,t.kq)("",!0)])}}})},82750:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return w}});var t=a(66252),u=a(2262),n=a(3577),o=a(49963),i=a(40862),r=a(42119),d=a(88637),s=a(39595);const m={class:"ve_container"},p=(0,t.Uk)(" 重置 "),c={data:()=>({description:"角色信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"},member:{name:"查看成员",toPath:!0}}})};var w=Object.assign(c,{setup(e){const{proxy:l}=(0,t.FN)(),a=(0,r.yj)(),c=(0,r.tv)(),w=(0,d.oR)(),v=(0,t.Fl)((()=>w.getters.menuList)).value,f=(0,u.iH)(null),g=(0,u.iH)(""),y=(0,u.iH)(!1),_=(0,u.iH)(null),U=(0,u.iH)([]),b=(0,u.qj)({name:"",limit:10,page:1,total:0}),{name:k,limit:h,page:W,total:S}=(0,u.BK)(b),V=(e,l=null)=>{y.value=!0,g.value=e,f.value=l},C=async()=>{const{code:e,data:l}=await VE_API.system.roleList(b);if("00"==e){const{limit:e,page:a,total:t,list:u}=l;b.limit=e,b.page=a,b.total=t,U.value=u}};return(0,t.bv)((async()=>{await C()})),(e,r)=>{const d=(0,t.up)("el-input"),w=(0,t.up)("el-form-item"),j=(0,t.up)("el-button"),D=(0,t.up)("el-form"),z=(0,t.up)("el-table-column"),q=(0,t.up)("el-tag"),E=(0,t.up)("ve-table"),x=(0,t.Q2)("permission");return(0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(D,{ref_key:"queryForm",ref:_,inline:!0,model:(0,u.SU)(b)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{label:"名称",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{clearable:"",modelValue:(0,u.SU)(k),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,u.dq)(k)?k.value=e:null),placeholder:"请输入"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(j,{type:"primary",onClick:r[1]||(r[1]=e=>(0,u.SU)(s.MI)((0,u.SU)(b),C))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.search.name),1)])),_:1}),(0,t.Wm)(j,{onClick:r[2]||(r[2]=e=>(0,u.SU)(s.Fx)(_.value,(0,u.SU)(b),C))},{default:(0,t.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Wm)(E,{table:{data:U.value},pagination:{onSizeChange:e=>(0,u.SU)(s.EL)(e,(0,u.SU)(b),C),onCurrentChange:e=>(0,u.SU)(s.jx)(e,(0,u.SU)(b),C),currentPage:(0,u.SU)(W),pageSize:(0,u.SU)(h),total:(0,u.SU)(S)}},{tool_bar:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(j,{size:"small",type:"primary",onClick:r[3]||(r[3]=l=>V(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[x,["add"]]])])),default:(0,t.w5)((()=>[(0,t.Wm)(z,{prop:"name",label:"名称"}),(0,t.Wm)(z,{prop:"roleName",label:"角色名",width:"120"}),(0,t.Wm)(z,{prop:"status",label:"状态"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(q,{type:0==e.status?"danger":""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(0==e.status?"停用":"启用"),1)])),_:2},1032,["type"])])),_:1}),(0,t.Wm)(z,{fixed:"right",label:"操作"},{default:(0,t.w5)((({row:u})=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(j,{onClick:(0,o.iM)((l=>V(e.menus.edit.name,u)),["prevent"]),type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.edit.name),1)])),_:2},1032,["onClick"])),[[x,["edit"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(j,{onClick:(0,o.iM)((e=>{return a=u.id,void l.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((async()=>{const{code:e}=await VE_API.system.roleDel({id:a});"00"==e&&C()})).catch((()=>{l.$message({type:"info",message:"已取消删除"})}));var a}),["prevent"]),type:"danger",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.del.name),1)])),_:2},1032,["onClick"])),[[x,["del"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(j,{onClick:(0,o.iM)((e=>(e=>{let t=a.name.slice(a.name.lastIndexOf("-")+1);const u=(0,s.G8)("member","system/Users",t,v,l);c.push({name:u,query:{id:e}})})(u.id)),["prevent"]),type:"info",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.member.name),1)])),_:2},1032,["onClick"])),[[x,["member"]]])])),_:1})])),_:1},8,["table","pagination"]),y.value?((0,t.wg)(),(0,t.j4)((0,u.SU)(i.default),{key:0,rowData:f.value,title:g.value,showDialog:y.value,onCloseDialog:r[4]||(r[4]=e=>{return l=e,y.value=l,void C();var l})},null,8,["rowData","title","showDialog"])):(0,t.kq)("",!0)])}}})},20596:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return w}});var t=a(66252),u=a(2262),n=a(3577),o=a(49963),i=a(45712),r=a(42119),d=a(39595);const s={class:"ve_container"},m=(0,t.Uk)(" 重置 "),p=(0,t.Uk)(" > "),c={data:()=>({description:"用户信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"}}})};var w=Object.assign(c,{setup(e){const{proxy:l}=(0,t.FN)(),a=(0,r.yj)(),c=(0,r.tv)(),w=(0,u.iH)(null),v=(0,u.iH)(""),f=(0,u.iH)(!1),g=(0,u.iH)(null),y=(0,u.iH)([]),_=(0,u.qj)({role:isNaN(1*a.query.id)?"":1*a.query.id,limit:10,page:1,total:0}),{role:U,limit:b,page:k,total:h}=(0,u.BK)(_),W=(0,u.iH)([]),S=(e,l=null)=>{f.value=!0,v.value=e,w.value=l},V=async()=>{const{code:e,data:l}=await VE_API.system.userList(_);if("00"==e){const{limit:e,page:a,total:t,list:u}=l;_.limit=e,_.page=a,_.total=t,y.value=u}};return(0,t.bv)((async()=>{await(async()=>{const{code:e,data:l}=await VE_API.system.roleList({page:1,limit:10});if("00"==e){const{list:e}=l;W.value=e}})(),await V()})),(e,r)=>{const C=(0,t.up)("el-option"),j=(0,t.up)("el-select"),D=(0,t.up)("el-form-item"),z=(0,t.up)("el-button"),q=(0,t.up)("el-form"),E=(0,t.up)("el-table-column"),x=(0,t.up)("el-tooltip"),H=(0,t.up)("el-tag"),P=(0,t.up)("el-switch"),I=(0,t.up)("ve-table"),L=(0,t.Q2)("permission");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(q,{ref_key:"queryForm",ref:g,inline:!0,model:(0,u.SU)(_)},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{label:"角色",prop:"role"},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{clearable:"",modelValue:(0,u.SU)(U),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,u.dq)(U)?U.value=e:null),placeholder:"请选择"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(W.value,(e=>((0,t.wg)(),(0,t.j4)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z,{type:"primary",onClick:r[1]||(r[1]=e=>(0,u.SU)(d.MI)((0,u.SU)(_),V))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.search.name),1)])),_:1}),(0,t.Wm)(z,{onClick:r[2]||(r[2]=e=>(0,u.SU)(d.Fx)(g.value,(0,u.SU)(_),V))},{default:(0,t.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Wm)(I,{table:{data:y.value},pagination:{onSizeChange:e=>(0,u.SU)(d.EL)(e,(0,u.SU)(_),V),onCurrentChange:e=>(0,u.SU)(d.jx)(e,(0,u.SU)(_),V),currentPage:(0,u.SU)(k),pageSize:(0,u.SU)(b),total:(0,u.SU)(h)}},{tool_bar:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{title:"弹窗式",size:"small",type:"primary",onClick:r[3]||(r[3]=l=>S(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[L,["add"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{title:"路由式",size:"small",type:"primary",onClick:r[4]||(r[4]=l=>(async e=>{const l=await(0,d.fG)(e,"system/components/UsersEditRoute","add",{router:c,route:a});c.push({name:l})})(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[L,["add"]]])])),default:(0,t.w5)((()=>[(0,t.Wm)(E,{prop:"name",label:"账号"}),(0,t.Wm)(E,{prop:"userName",label:"用户名"}),(0,t.Wm)(E,{prop:"password",label:"密码"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(x,{class:"item",effect:"dark",content:e.password,placement:"top"},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,n.zw)(e.password&&e.password.split("").fill("*",1,-1).join().replace(/\,/g,"")),1)])),_:2},1032,["content"])])),_:1}),(0,t.Wm)(E,{prop:"role",label:"角色"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(H,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((e.role||0==e.role)&&W.value.filter((l=>l.id==e.role))[0].name),1)])),_:2},1024)])),_:1}),(0,t.Wm)(E,{prop:"status",label:"状态"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(P,{loading:!!e.load,modelValue:e.status,"onUpdate:modelValue":l=>e.status=l,"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949",onChange:l=>(async(e,l)=>{if(null==l.id)return;l.load=1;const{code:a}=await VE_API.system.userStatus({id:l.id,status:e},{Global:!1});l.load=0,"00"!=a&&(l.status=1==e?0:1)})(l,e)},{default:(0,t.w5)((()=>[p])),_:2},1032,["loading","modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,t.Wm)(E,{fixed:"right",label:"操作"},{default:(0,t.w5)((({row:a})=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{onClick:(0,o.iM)((l=>S(e.menus.edit.name,a)),["prevent"]),type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.edit.name),1)])),_:2},1032,["onClick"])),[[L,["edit"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{onClick:(0,o.iM)((e=>{return t=a.id,void l.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((async()=>{const{code:e}=await VE_API.system.userDel({id:t});"00"==e&&V()})).catch((()=>{l.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.del.name),1)])),_:2},1032,["onClick"])),[[L,["del"]]])])),_:1})])),_:1},8,["table","pagination"]),f.value?((0,t.wg)(),(0,t.j4)((0,u.SU)(i.default),{key:0,rowData:w.value,title:v.value,showDialog:f.value,onCloseDialog:r[5]||(r[5]=e=>{return l=e,f.value=l,void V();var l})},null,8,["rowData","title","showDialog"])):(0,t.kq)("",!0)])}}})},94311:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return w}});var t=a(66252),u=a(2262),n=a(3577),o=a(49963),i=a(45712),r=a(42119),d=a(39595);const s={class:"ve_container"},m=(0,t.Uk)(" 重置 "),p=(0,t.Uk)(" > "),c={data:()=>({description:"用户信息查询与设置",menus:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"}}})};var w=Object.assign(c,{setup(e){const{proxy:l}=(0,t.FN)(),a=(0,r.yj)(),c=(0,r.tv)(),w=(0,u.iH)(null),v=(0,u.iH)(""),f=(0,u.iH)(!1),g=(0,u.iH)(null),y=(0,u.iH)([]),_=(0,u.qj)({role:isNaN(1*a.query.id)?"":1*a.query.id,limit:10,page:1,total:0}),{role:U,limit:b,page:k,total:h}=(0,u.BK)(_),W=(0,u.iH)([]),S=(e,l=null)=>{f.value=!0,v.value=e,w.value=l},V=async()=>{const{code:e,data:l}=await VE_API.system.userList(_);if("00"==e){const{limit:e,page:a,total:t,list:u}=l;_.limit=e,_.page=a,_.total=t,y.value=u}};return(0,t.bv)((async()=>{await(async()=>{const{code:e,data:l}=await VE_API.system.roleList({page:1,limit:10});if("00"==e){const{list:e}=l;W.value=e}})(),await V()})),(e,r)=>{const C=(0,t.up)("el-option"),j=(0,t.up)("el-select"),D=(0,t.up)("el-form-item"),z=(0,t.up)("el-button"),q=(0,t.up)("el-form"),E=(0,t.up)("el-table-column"),x=(0,t.up)("el-tooltip"),H=(0,t.up)("el-tag"),P=(0,t.up)("el-switch"),I=(0,t.up)("ve-table"),L=(0,t.Q2)("permission");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(q,{ref_key:"queryForm",ref:g,inline:!0,model:(0,u.SU)(_)},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{label:"角色",prop:"role"},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{clearable:"",modelValue:(0,u.SU)(U),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,u.dq)(U)?U.value=e:null),placeholder:"请选择"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(W.value,(e=>((0,t.wg)(),(0,t.j4)(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z,{type:"primary",onClick:r[1]||(r[1]=e=>(0,u.SU)(d.MI)((0,u.SU)(_),V))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.search.name),1)])),_:1}),(0,t.Wm)(z,{onClick:r[2]||(r[2]=e=>(0,u.SU)(d.Fx)(g.value,(0,u.SU)(_),V))},{default:(0,t.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Wm)(I,{table:{data:y.value},pagination:{onSizeChange:e=>(0,u.SU)(d.EL)(e,(0,u.SU)(_),V),onCurrentChange:e=>(0,u.SU)(d.jx)(e,(0,u.SU)(_),V),currentPage:(0,u.SU)(k),pageSize:(0,u.SU)(b),total:(0,u.SU)(h)}},{tool_bar:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{title:"弹窗式",size:"small",type:"primary",onClick:r[3]||(r[3]=l=>S(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[L,["add"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{title:"路由式",size:"small",type:"primary",onClick:r[4]||(r[4]=l=>(async e=>{const l=await(0,d.fG)(e,"system/components/UsersEditRoute","add",{router:c,route:a});c.push({name:l})})(e.menus.add.name))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.add.name),1)])),_:1})),[[L,["add"]]])])),default:(0,t.w5)((()=>[(0,t.Wm)(E,{prop:"name",label:"账号"}),(0,t.Wm)(E,{prop:"userName",label:"用户名"}),(0,t.Wm)(E,{prop:"password",label:"密码"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(x,{class:"item",effect:"dark",content:e.password,placement:"top"},null,8,["content"])])),_:1}),(0,t.Wm)(E,{prop:"role",label:"角色"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(H,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)((e.role||0==e.role)&&W.value.filter((l=>l.id==e.role))[0].name),1)])),_:2},1024)])),_:1}),(0,t.Wm)(E,{prop:"status",label:"状态"},{default:(0,t.w5)((({row:e})=>[(0,t.Wm)(P,{loading:!!e.load,modelValue:e.status,"onUpdate:modelValue":l=>e.status=l,"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949",onChange:l=>(async(e,l)=>{if(null==l.id)return;l.load=1;const{code:a}=await VE_API.system.userStatus({id:l.id,status:e},{Global:!1});setTimeout((()=>{l.load=0,"00"!=a&&(l.status=1==e?0:1)}),500)})(l,e)},{default:(0,t.w5)((()=>[p])),_:2},1032,["loading","modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,t.Wm)(E,{fixed:"right",label:"操作"},{default:(0,t.w5)((({row:a})=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{onClick:(0,o.iM)((l=>S(e.menus.edit.name,a)),["prevent"]),type:"primary",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.edit.name),1)])),_:2},1032,["onClick"])),[[L,["edit"]]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(z,{onClick:(0,o.iM)((e=>{return t=a.id,void l.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((async()=>{const{code:e}=await VE_API.system.userDel({id:t});"00"==e&&V()})).catch((()=>{l.$message({type:"info",message:"已取消删除"})}));var t}),["prevent"]),type:"danger",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.menus.del.name),1)])),_:2},1032,["onClick"])),[[L,["del"]]])])),_:1})])),_:1},8,["table","pagination"]),f.value?((0,t.wg)(),(0,t.j4)((0,u.SU)(i.default),{key:0,rowData:w.value,title:v.value,showDialog:f.value,onCloseDialog:r[5]||(r[5]=e=>{return l=e,f.value=l,void V();var l})},null,8,["rowData","title","showDialog"])):(0,t.kq)("",!0)])}}})},52561:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return _}});a(21703);var t=a(66252),u=a(2262),n=a(49963),o=a(3577),i=a(42325),r=a(38478);const d=(0,t.Uk)(" 目录 "),s=(0,t.Uk)(" 菜单 "),m=(0,t.Uk)(" 按钮 "),p=(0,t.Uk)("否"),c=(0,t.Uk)("是"),w={style:{margin:"0"}},v={class:"ve_select_option_slot"},f={key:1,style:{color:"red"}},g=(0,t.Uk)("取消"),y=(0,t.Uk)("确定");var _={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null},menuList:{type:Array,default:null}},emits:["closeDialog"],setup(e,{emit:l}){const _=e,{title:U,rowData:b,menuList:k}=(0,u.BK)(_),h=()=>{l("closeDialog",!1)},W=(0,u.iH)([]),S=(0,u.iH)(null),V=(()=>{const e=a(70998);return e.keys().map((l=>({url:l.replace(/^(\.\/)|(\.vue)/g,""),description:e(l).default.data&&(e(l).default.data().description||"无"),menus:e(l).default.data&&(e(l).default.data().menus||[])}))).filter((e=>!e.url.includes("/components/")))})(),C=(0,u.qj)({name:"",type:0,parentId:-1,menu:"",url:"",icon:"Menu",iframe:1,sort:1,toPath:""}),{name:j,type:D,parentId:z,menu:q,url:E,icon:x,iframe:H,sort:P,toPath:I}=(0,u.BK)(C),L=(0,t.Fl)((()=>({parentId:[{required:2==D.value,message:"请选择父级菜单",trigger:"change"}],name:[{required:2!=D.value,message:"请输入菜单名称",trigger:"blur"}],menu:[{required:2==D.value,message:"请选择按钮",trigger:"change"}],icon:[{required:2!=D.value,message:"请选择图标",trigger:"change"}],url:[{required:1==D.value,pattern:/^(https?:\/\/)?(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i,message:"url不正确",trigger:"change"}]}))),F=(0,t.Fl)((()=>[{required:B.value,message:"请选择目标菜单",trigger:"change"},{validator:(e,l,a)=>{l==z.value?a(new Error("不可以选择当前父级菜单")):a()},trigger:"change"}]));b.value&&(j.value=b.value.name,D.value=b.value.type,z.value=b.value.parentId,E.value=b.value.url,q.value=b.value.menu,x.value=b.value.icon,H.value=b.value.iframe,I.value=b.value.toPath,P.value=b.value.sort);const A=e=>{S.value.resetFields(),2==e&&(x.value="")},M=e=>{!0===e&&W.value.length<1&&(W.value=(0,i.ci)())},N=()=>{2==D.value&&(j.value="",q.value="",(0,t.Y3)((()=>{S.value.clearValidate("menu")})))},B=(0,t.Fl)((()=>!(!$.value||!q.value)&&$.value[q.value].toPath)),T=(0,t.Fl)((()=>e=>{let l=!0;switch(U.value){case"编辑":e==D.value&&(l=!1);break;case"添加子级":0!=e&&1!=e||(l=!1);break;case"添加按钮":2==e&&(l=!1);break;default:l=!1}return l})),$=(0,t.Fl)((()=>{let e=r.findTree(k.value,(e=>e.id==z.value));return!(!e||!V.find((l=>l.url==e.item.url)))&&V.find((l=>l.url==e.item.url)).menus})),K=(0,t.Fl)((()=>e=>{let l=r.findTree(k.value,(e=>e.id==z.value));if(l)return(!b.value||e!=b.value.menu)&&(l.item.children&&l.item.children.find((l=>l.menu==e))&&!0)})),O=()=>{"添加按钮"!=U.value&&"添加子级"!=U.value||(j.value="",q.value="",E.value="",x.value="Menu",H.value=1,P.value=1,I.value="",z.value=(0,i.XN)(k.value,(e=>e.id===b.value.id)).slice(-1)[0],"添加按钮"==U.value&&(D.value=2,x.value=""))};(0,t.bv)((()=>{O()}));return(l,a)=>{const i=(0,t.up)("el-radio-button"),r=(0,t.up)("el-radio-group"),_=(0,t.up)("el-form-item"),O=(0,t.up)("el-cascader"),R=(0,t.up)("el-input-number"),Y=(0,t.up)("el-input"),G=(0,t.up)("el-icon"),Q=(0,t.up)("el-option"),Z=(0,t.up)("el-select"),X=(0,t.up)("el-radio"),J=(0,t.up)("el-form"),ee=(0,t.up)("el-button"),le=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(le,{title:(0,u.SU)(U),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:a[14]||(a[14]=e=>h())},{footer:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(ee,{onClick:a[12]||(a[12]=e=>h())},{default:(0,t.w5)((()=>[g])),_:1}),(0,t.Wm)(ee,{type:"primary",onClick:a[13]||(a[13]=e=>{S.value.validate((async e=>{if(!e)return!1;{let e;e=U.value.includes("添加")?await VE_API.system.menuAdd(C):await VE_API.system.menuEdit({id:b.value.id,...C});const{code:l}=e;"00"==l&&h()}}))})},{default:(0,t.w5)((()=>[y])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(J,{ref_key:"formRef",ref:S,model:(0,u.SU)(C),"label-width":"80px",rules:(0,u.SU)(L),inline:!1},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"类型"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:(0,u.SU)(D),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,u.dq)(D)?D.value=e:null),onChange:A},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{disabled:(0,u.SU)(T)(0),label:0},{default:(0,t.w5)((()=>[d])),_:1},8,["disabled"]),(0,t.Wm)(i,{disabled:(0,u.SU)(T)(1),label:1},{default:(0,t.w5)((()=>[s])),_:1},8,["disabled"]),(0,t.Wm)(i,{disabled:(0,u.SU)(T)(2),label:2},{default:(0,t.w5)((()=>[m])),_:1},8,["disabled"])])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(_,{label:"父级",prop:"parentId"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{style:{width:"100%"},options:(0,u.SU)(k),modelValue:(0,u.SU)(z),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,u.dq)(z)?z.value=e:null),clearable:"",filterable:"",props:{expandTrigger:"hover",emitPath:!1,checkStrictly:!0,value:"id",label:"name",disabled:2==(0,u.SU)(D)?"iframe":"type"},onChange:N,disabled:"添加"!=(0,u.SU)(U)},null,8,["options","modelValue","props","disabled"])])),_:1}),(0,t.wy)((0,t.Wm)(_,{label:"排序"},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{modelValue:(0,u.SU)(P),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,u.dq)(P)?P.value=e:null),min:0,"step-strictly":"",step:1},null,8,["modelValue"])])),_:1},512),[[n.F8,2!=(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"名称",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{modelValue:(0,u.SU)(j),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,u.dq)(j)?j.value=e:null)},null,8,["modelValue"])])),_:1},512),[[n.F8,2!=(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"图标",prop:"icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{style:{width:"100%"},modelValue:(0,u.SU)(x),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,u.dq)(x)?x.value=e:null),placeholder:"",clearable:"",filterable:"",onVisibleChange:M,"popper-class":"ve_option_box"},{prefix:(0,t.w5)((()=>[2!=(0,u.SU)(D)?((0,t.wg)(),(0,t.j4)(G,{key:0,size:20,style:{color:"#000"}},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)((0,u.SU)(x))))])),_:1})):(0,t.kq)("",!0)])),default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(W.value,(e=>((0,t.wg)(),(0,t.j4)(Q,{style:{display:"inline-block",height:"auto",padding:"10px 11px 0px"},key:e,label:e,value:e},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{title:e,size:30},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e)))])),_:2},1032,["title"])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},512),[[n.F8,2!=(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"iframe",onChange:a[6]||(a[6]=e=>(E.value="",void(0,t.Y3)((()=>{b.value&&H.value==b.value.iframe&&(E.value=b.value.url),S.value.clearValidate("url")}))))},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:(0,u.SU)(H),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,u.dq)(H)?H.value=e:null)},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{label:0},{default:(0,t.w5)((()=>[p])),_:1}),(0,t.Wm)(i,{label:1},{default:(0,t.w5)((()=>[c])),_:1})])),_:1},8,["modelValue"])])),_:1},512),[[n.F8,1==(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"路径",prop:"url"},{default:(0,t.w5)((()=>[1==(0,u.SU)(H)?((0,t.wg)(),(0,t.j4)(Y,{key:0,modelValue:(0,u.SU)(E),"onUpdate:modelValue":a[7]||(a[7]=e=>(0,u.dq)(E)?E.value=e:null),placeholder:"请输入",clearable:""},null,8,["modelValue"])):((0,t.wg)(),(0,t.j4)(Z,{key:1,style:{width:"100%"},modelValue:(0,u.SU)(E),"onUpdate:modelValue":a[8]||(a[8]=e=>(0,u.dq)(E)?E.value=e:null),placeholder:"",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,u.SU)(V),(e=>((0,t.wg)(),(0,t.j4)(Q,{style:{height:"auto"},key:e.url,label:e.url,value:e.url},{default:(0,t.w5)((()=>[(0,t._)("p",w,(0,o.zw)(e.url),1),(0,t._)("span",v," 描述 ："+(0,o.zw)(e.description),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]))])),_:1},512),[[n.F8,1==(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"按钮",prop:"menu"},{default:(0,t.w5)((()=>[(0,u.SU)($)?((0,t.wg)(),(0,t.j4)(r,{key:0,modelValue:(0,u.SU)(q),"onUpdate:modelValue":a[9]||(a[9]=e=>(0,u.dq)(q)?q.value=e:null),onChange:a[10]||(a[10]=e=>(j.value=$.value[q.value].name,I.value="",void(0,t.Y3)((()=>{b.value&&q.value==b.value.menu&&(I.value=b.value.toPath),S.value.clearValidate("toPath")}))))},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,u.SU)($),((e,l)=>((0,t.wg)(),(0,t.j4)(X,{key:l,label:l,disabled:(0,u.SU)(K)(l)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.name),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"])):((0,t.wg)(),(0,t.iD)("span",f,"该菜单下没有按钮"))])),_:1},512),[[n.F8,2==(0,u.SU)(D)]]),(0,t.wy)((0,t.Wm)(_,{label:"目标菜单",prop:"toPath",rules:(0,u.SU)(F)},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{style:{width:"100%"},options:(0,u.SU)(k),modelValue:(0,u.SU)(I),"onUpdate:modelValue":a[11]||(a[11]=e=>(0,u.dq)(I)?I.value=e:null),clearable:"",filterable:"",props:{expandTrigger:"hover",emitPath:!1,checkStrictly:!0,value:"id",label:"name",disabled:"iframe"}},null,8,["options","modelValue"])])),_:1},8,["rules"]),[[n.F8,2==(0,u.SU)(D)&&(0,u.SU)(B)]])])),_:1},8,["model","rules"])])),_:1},8,["title","model-value"])}}}},45712:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return d}});var t=a(66252),u=a(2262);const n=(0,t.Uk)("启用"),o=(0,t.Uk)("停用"),i=(0,t.Uk)("取消"),r=(0,t.Uk)("确定");var d={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup(e,{emit:l}){const a=e,d={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],userName:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},{title:s,rowData:m}=(0,u.BK)(a),p=()=>{l("closeDialog",!1)},c=(0,u.iH)(null),w=(0,u.qj)({name:"",userName:"",password:"",role:"",status:1}),{userName:v,name:f,password:g,role:y,status:_}=(0,u.BK)(w),U=(0,u.iH)([]);m.value&&(f.value=m.value.name,v.value=m.value.userName,g.value=m.value.password,y.value=m.value.role,_.value=m.value.status);(async()=>{const{code:e,data:l}=await VE_API.system.roleList({page:1,limit:10},{Global:!1});if("00"==e){const{list:e}=l;U.value=e}})();return(l,a)=>{const b=(0,t.up)("el-input"),k=(0,t.up)("el-form-item"),h=(0,t.up)("el-option"),W=(0,t.up)("el-select"),S=(0,t.up)("el-radio-button"),V=(0,t.up)("el-radio-group"),C=(0,t.up)("el-form"),j=(0,t.up)("el-button"),D=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(D,{title:(0,u.SU)(s),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:a[7]||(a[7]=e=>p())},{footer:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(j,{onClick:a[5]||(a[5]=e=>p())},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(j,{type:"primary",onClick:a[6]||(a[6]=e=>{c.value.validate((async e=>{if(!e)return!1;{let e;e="添加"==s.value?await VE_API.system.userAdd(w):await VE_API.system.userEdit({id:m.value.id,...w});const{code:l}=e;"00"==l&&p()}}))})},{default:(0,t.w5)((()=>[r])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(C,{model:(0,u.SU)(w),ref_key:"formRef",ref:c,rules:d,"label-width":"80px",inline:!1},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"账号",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:(0,u.SU)(f),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,u.dq)(f)?f.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"用户名",prop:"userName"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:(0,u.SU)(v),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,u.dq)(v)?v.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"密码",prop:"password"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:(0,u.SU)(g),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,u.dq)(g)?g.value=e:null),"show-password":"",placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"角色",prop:"role"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{style:{width:"100%"},modelValue:(0,u.SU)(y),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,u.dq)(y)?y.value=e:null),placeholder:"",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e.id,label:e.name,value:e.id,disabled:0==e.status},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"状态"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:(0,u.SU)(_),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,u.dq)(_)?_.value=e:null)},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{label:1},{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(S,{label:0},{default:(0,t.w5)((()=>[o])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","model-value"])}}}},95228:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return d}});var t=a(66252),u=a(2262);const n=(0,t.Uk)("启用"),o=(0,t.Uk)("停用"),i=(0,t.Uk)("取消"),r=(0,t.Uk)("确定");var d={props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup(e,{emit:l}){const a=e,d={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],userName:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},{title:s,rowData:m}=(0,u.BK)(a),p=()=>{l("closeDialog",!1)},c=(0,u.iH)(null),w=(0,u.qj)({name:"",userName:"",password:"",role:"",status:1}),{userName:v,name:f,password:g,role:y,status:_}=(0,u.BK)(w),U=(0,u.iH)([]);m.value&&(f.value=m.value.name,v.value=m.value.userName,g.value=m.value.password,y.value=m.value.role,_.value=m.value.status);(async()=>{const{code:e,data:l}=await VE_API.system.roleList({page:1,limit:10},{Global:!1});if("00"==e){const{list:e}=l;U.value=e}})();return(e,l)=>{const a=(0,t.up)("el-input"),b=(0,t.up)("el-form-item"),k=(0,t.up)("el-option"),h=(0,t.up)("el-select"),W=(0,t.up)("el-radio-button"),S=(0,t.up)("el-radio-group"),V=(0,t.up)("el-button"),C=(0,t.up)("el-form");return(0,t.wg)(),(0,t.j4)(C,{model:(0,u.SU)(w),ref_key:"formRef",ref:c,rules:d,"label-width":"80px",inline:!1},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{label:"账号",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{modelValue:(0,u.SU)(f),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,u.dq)(f)?f.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"用户名",prop:"userName"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{modelValue:(0,u.SU)(v),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,u.dq)(v)?v.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"密码",prop:"password"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{modelValue:(0,u.SU)(g),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,u.dq)(g)?g.value=e:null),"show-password":"",placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"角色",prop:"role"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{style:{width:"100%"},modelValue:(0,u.SU)(y),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,u.dq)(y)?y.value=e:null),placeholder:"",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(U.value,(e=>((0,t.wg)(),(0,t.j4)(k,{key:e.id,label:e.name,value:e.id,disabled:0==e.status},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(b,{label:"状态"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{modelValue:(0,u.SU)(_),"onUpdate:modelValue":l[4]||(l[4]=e=>(0,u.dq)(_)?_.value=e:null)},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{label:1},{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(W,{label:0},{default:(0,t.w5)((()=>[o])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(V,{onClick:l[5]||(l[5]=e=>p())},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(V,{type:"primary",onClick:l[6]||(l[6]=e=>{c.value.validate((async e=>{if(!e)return!1;{let e;e="添加"==s.value?await VE_API.system.userAdd(w):await VE_API.system.userEdit({id:m.value.id,...w});const{code:l}=e;"00"==l&&p()}}))})},{default:(0,t.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["model"])}}}},39595:function(e,l,a){"use strict";a.d(l,{MI:function(){return n},Fx:function(){return o},EL:function(){return i},jx:function(){return r},G8:function(){return d},fG:function(){return s}});var t=a(66252),u=a(38478);const n=(e,l)=>{e.limit=10,e.page=1,l()},o=(e,l,a)=>{e.resetFields(),n(l,a)},i=(e,l,a)=>{l.page=1,l.limit=e,a()},r=(e,l,a)=>{l.page=e,a()},d=(e,l,a,t,n)=>{let o="",i=u.findTree(t,(e=>e.id==a));if(i&&i.item&&i.item.children&&i.item.children.length>0){let l=i.item.children.find((l=>l.menu==e));l&&(o=l.toPath)}if(""!=o){let e=u.findTree(t,(e=>e.id==o));if(e&&e.item){if(0!=e.item.iframe)return`i-${o}`;if(e.item.url==l)return`${l.replace(/\//g,"-")}-${o}`}}n.$message({type:"error",message:"无法跳转,请联系系统管理员!"})},s=async(e,l,u,{router:n,route:o})=>{const i={components:{FunctionPage:a(87229).default,AsyncComponent:a(31958)("./"+l+".vue").default},data:()=>({rName:null}),methods:{reload:e=>e.returnValue=""},mounted(){this.rName=this.$route.name,window.addEventListener("beforeunload",this.reload)},beforeUnmount(){window.removeEventListener("beforeunload",this.reload),this.$router.removeRoute(this.rName)},render:()=>(0,t.Wm)((0,t.up)("function-page"),{title:e},{default:()=>[(0,t.Wm)((0,t.up)("async-component"),null,null)]})},r={name:o.name+"/"+u,path:o.name+"/"+u,component:i};return await n.addRoute("AppMain",r),r.name}},70998:function(e,l,a){var t={"./leisure/Game.vue":60172,"./system/Menus.vue":71099,"./system/Roles.vue":82750,"./system/UserTable.vue":20596,"./system/Users.vue":94311,"./system/components/MenuEdit.vue":52561,"./system/components/RoleEdit.vue":40862,"./system/components/UsersEdit.vue":45712,"./system/components/UsersEditRoute.vue":95228};function u(e){var l=n(e);return a(l)}function n(e){if(!a.o(t,e)){var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}return t[e]}u.keys=function(){return Object.keys(t)},u.resolve=n,e.exports=u,u.id=70998},31958:function(e,l,a){var t={"./leisure/Game.vue":60172,"./system/Menus.vue":71099,"./system/Roles.vue":82750,"./system/UserTable.vue":20596,"./system/Users.vue":94311,"./system/components/MenuEdit.vue":52561,"./system/components/RoleEdit.vue":40862,"./system/components/UsersEdit.vue":45712,"./system/components/UsersEditRoute.vue":95228};function u(e){var l=n(e);return a(l)}function n(e){if(!a.o(t,e)){var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}return t[e]}u.keys=function(){return Object.keys(t)},u.resolve=n,e.exports=u,u.id=31958},66949:function(e,l,a){"use strict";e.exports=a.p+"img/logo.f3ae810b.png"}}]);